/**
 * Global CSS Stylesheet
 * 
 * This file contains global styles and utility classes for the NPT Onboarding application.
 * It imports Tailwind CSS and defines custom styles used across the application.
 * 
 * @fileoverview Global application styles including base resets and custom component styles.
 */

@import "tailwindcss";

/* ================================================================== */
/* Base HTML/Body Styles                                              */
/* ================================================================== */

/**
 * Ensures the html and body elements take up the full viewport height.
 * This is essential for proper layout with flexbox/grid-based designs.
 */
html,
body {
  height: 100%;
  /* Force light-styled native form controls (checkboxes/radios) for the employee UI on mobile.
     Dashboard overrides this via html[data-dash-theme]. */
  color-scheme: light;
  min-height: 100%;
}

/* App-wide overlay + modal defaults (safe for all areas). */
:root {
  --app-overlay: rgba(15, 23, 42, 0.40);
  --app-modal-surface: #ffffff;
  --npt-red: #c31c20;
}

/* Theme native form controls consistently (esp. iOS/Android checkboxes). */
input[type="checkbox"],
input[type="radio"] {
  accent-color: var(--npt-red);
}

/* =========================
 * iOS viewport stability (safe fallback)
 * ========================= */
@supports (height: -webkit-fill-available) {
  html,
  body {
    height: -webkit-fill-available;
  }
}

/* =========================
 * Mobile zoom prevention (iOS Safari)
 * - iOS zooms inputs when font-size < 16px
 * - Scope to employee onboarding only
 * ========================= */
@media (pointer: coarse) {
  .onboarding input,
  .onboarding select,
  .onboarding textarea {
    font-size: 16px;
  }

  /* Onboarding modals are portalled to <body>, so we also scope via Modal context. */
  #modal-root[data-modal-context="onboarding"] input,
  #modal-root[data-modal-context="onboarding"] select,
  #modal-root[data-modal-context="onboarding"] textarea {
    font-size: 16px;
  }
}

/* =========================
 * Date input cross-platform styling (employee onboarding)
 * - iOS Safari can hide borders/shadows/icons on input[type=date]
 * - Normalize appearance and keep the field visually "present"
 * ========================= */
@layer components {
  .onboarding input[type="date"] {
    appearance: none;
    -webkit-appearance: none;
    background-color: #ffffff;
    border: 1px solid #d1d5db; /* slate/gray-300 */
    border-radius: 0.5rem; /* rounded-lg */
    padding: 0.5rem 2.25rem 0.5rem 0.75rem; /* space for icon on the right */
    line-height: 1.5rem;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* shadow-sm-ish */
  }

  .onboarding input[type="date"]:focus {
    outline: none;
    border-color: #94a3b8; /* slate-400 */
    box-shadow: 0 0 0 3px rgba(203, 213, 225, 0.75); /* slate-300 ring */
  }

  /* WebKit date field text parts */
  .onboarding input[type="date"]::-webkit-datetime-edit {
    color: #0f172a; /* slate-900 */
  }
  .onboarding input[type="date"]::-webkit-datetime-edit-fields-wrapper {
    padding: 0;
  }
  .onboarding input[type="date"]::-webkit-datetime-edit-text {
    color: #64748b; /* slate-500 separators */
  }
  .onboarding input[type="date"]::-webkit-datetime-edit-month-field,
  .onboarding input[type="date"]::-webkit-datetime-edit-day-field,
  .onboarding input[type="date"]::-webkit-datetime-edit-year-field {
    color: #0f172a; /* slate-900 */
  }

  /* Visible calendar icon (WebKit) */
  .onboarding input[type="date"]::-webkit-calendar-picker-indicator {
    opacity: 1;
    display: block;
    background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><rect x='3' y='4' width='18' height='18' rx='2' ry='2'/><line x1='16' y1='2' x2='16' y2='6'/><line x1='8' y1='2' x2='8' y2='6'/><line x1='3' y1='10' x2='21' y2='10'/></svg>")
      no-repeat center;
    width: 1.75rem;
    height: 1.75rem;
    cursor: pointer;
    filter: none;
  }

  /* Firefox calendar icon */
  .onboarding input[type="date"]::-moz-calendar-picker-indicator {
    color: #64748b;
    opacity: 1;
  }
}

/* ================================================================== */
/* Dashboard Theme Tokens (HR area)                                    */
/* ================================================================== */
/**
 * Dashboard is themed via a wrapper element:
 *   <div class="dashboard-root" data-theme="light|dark">...</div>
 *
 * This avoids impacting the employee onboarding UI theme.
 */
.dashboard-root {
  /* Light: white + slate + red */
  --dash-bg: #f8fafc;
  --dash-surface: #ffffff;
  --dash-surface-2: #f1f5f9;
  --dash-text: #0f172a;
  --dash-muted: #475569;
  --dash-border: rgba(15, 23, 42, 0.08);
  --dash-shadow: 0 10px 26px rgba(15, 23, 42, 0.10);

  --dash-red: #c31c20;
  --dash-red-2: #e4494d;
  --dash-red-soft: rgba(195, 28, 32, 0.10);

  /* Make generic Modal component match dashboard automatically */
  --app-overlay: rgba(2, 6, 23, 0.36);
  --app-modal-surface: var(--dash-surface);

  background: var(--dash-bg);
  color: var(--dash-text);
}

.dashboard-root[data-theme="dark"] {
  /* Dark: black + slate + red (clear elevation + readable surfaces) */
  --dash-bg: #06070b;
  --dash-surface: #0c1018;
  --dash-surface-2: #121a26;
  --dash-text: #e2e8f0;
  --dash-muted: #9aa9be;
  --dash-border: rgba(148, 163, 184, 0.16);
  --dash-border-strong: rgba(148, 163, 184, 0.34);
  --dash-shadow: 0 14px 34px rgba(0, 0, 0, 0.62);

  --dash-red: #ff3b3f;
  --dash-red-2: #ff4d4f;
  --dash-red-soft: rgba(255, 59, 63, 0.16);

  --app-overlay: rgba(0, 0, 0, 0.62);
  --app-modal-surface: var(--dash-surface);
}

/* Prevent "white flash" on reload: allow pre-paint theme via html[data-dash-theme]. */
html[data-dash-theme="dark"],
html[data-dash-theme="dark"] body {
  background: #06070b;
  color-scheme: dark;
}

html[data-dash-theme="light"],
html[data-dash-theme="light"] body {
  background: #f8fafc;
  color-scheme: light;
}

html[data-dash-theme="dark"] .dashboard-root {
  /* Mirror the dark tokens so the dashboard can render correctly before hydration */
  --dash-bg: #06070b;
  --dash-surface: #0c1018;
  --dash-surface-2: #121a26;
  --dash-text: #e2e8f0;
  --dash-muted: #9aa9be;
  --dash-border: rgba(148, 163, 184, 0.16);
  --dash-border-strong: rgba(148, 163, 184, 0.34);
  --dash-shadow: 0 14px 34px rgba(0, 0, 0, 0.62);

  --dash-red: #ff3b3f;
  --dash-red-2: #ff4d4f;
  --dash-red-soft: rgba(255, 59, 63, 0.16);

  --app-overlay: rgba(0, 0, 0, 0.62);
  --app-modal-surface: var(--dash-surface);
}

/* ================================================================== */
/* Scoped skin for employee-side form components inside dashboard       */
/* ================================================================== */
/**
 * Employee onboarding sections use hardcoded Tailwind colors (bg-white, text-slate-*, etc).
 * When they are reused inside the HR dashboard, we remap those colors to dashboard tokens
 * without changing employee-side styling.
 *
 * Usage:
 *   <div class="dashboard-root" ...>
 *     <div class="dash-form-skin"> ...employee sections... </div>
 *   </div>
 */
.dashboard-root .dash-form-skin {
  color: var(--dash-text);
}

/* Background remaps */
.dashboard-root .dash-form-skin .bg-white,
.dashboard-root .dash-form-skin .bg-white\/80,
.dashboard-root .dash-form-skin .bg-white\/90 {
  background-color: var(--dash-surface) !important;
}

.dashboard-root[data-theme="dark"] .dash-form-skin input.bg-white,
.dashboard-root[data-theme="dark"] .dash-form-skin textarea.bg-white,
.dashboard-root[data-theme="dark"] .dash-form-skin select.bg-white,
.dashboard-root[data-theme="dark"] .dash-form-skin input.bg-white\/80,
.dashboard-root[data-theme="dark"] .dash-form-skin textarea.bg-white\/80,
.dashboard-root[data-theme="dark"] .dash-form-skin select.bg-white\/80,
.dashboard-root[data-theme="dark"] .dash-form-skin input.bg-white\/90,
.dashboard-root[data-theme="dark"] .dash-form-skin textarea.bg-white\/90,
.dashboard-root[data-theme="dark"] .dash-form-skin select.bg-white\/90 {
  /* Inputs that use bg-white should still look like fields in dark mode */
  background-color: var(--dash-surface-2) !important;
}

.dashboard-root .dash-form-skin .bg-slate-50,
.dashboard-root .dash-form-skin .hover\:bg-slate-50:hover,
.dashboard-root .dash-form-skin .bg-slate-100 {
  background-color: var(--dash-surface-2) !important;
}

/* Border remaps */
.dashboard-root .dash-form-skin .border-slate-200,
.dashboard-root .dash-form-skin .border-slate-300,
.dashboard-root .dash-form-skin .border-slate-100 {
  border-color: var(--dash-border) !important;
}

.dashboard-root[data-theme="dark"] .dash-form-skin input.border-slate-200,
.dashboard-root[data-theme="dark"] .dash-form-skin textarea.border-slate-200,
.dashboard-root[data-theme="dark"] .dash-form-skin select.border-slate-200,
.dashboard-root[data-theme="dark"] .dash-form-skin input.border-slate-300,
.dashboard-root[data-theme="dark"] .dash-form-skin textarea.border-slate-300,
.dashboard-root[data-theme="dark"] .dash-form-skin select.border-slate-300 {
  /* Make field borders clearly visible in dark mode (prefilled fields look like this) */
  border-color: var(--dash-border-strong) !important;
}

/* Text remaps */
.dashboard-root .dash-form-skin .text-slate-900,
.dashboard-root .dash-form-skin .text-slate-800 {
  color: var(--dash-text) !important;
}
.dashboard-root .dash-form-skin .text-slate-700,
.dashboard-root .dash-form-skin .text-slate-600,
.dashboard-root .dash-form-skin .text-slate-500 {
  color: var(--dash-muted) !important;
}

/* Links / accents used in employee sections */
.dashboard-root .dash-form-skin .text-sky-700 {
  color: var(--dash-red-2) !important;
}

/* Inputs: ensure good contrast in both themes */
.dashboard-root .dash-form-skin input,
.dashboard-root .dash-form-skin textarea,
.dashboard-root .dash-form-skin select {
  background-color: var(--dash-surface);
  color: var(--dash-text);
  border-color: var(--dash-border);
}

.dashboard-root[data-theme="dark"] .dash-form-skin input,
.dashboard-root[data-theme="dark"] .dash-form-skin textarea,
.dashboard-root[data-theme="dark"] .dash-form-skin select {
  /* In dark mode, inputs need a slightly raised surface to read as "fields" */
  background-color: var(--dash-surface-2);
  /* Stronger borders so fields are clearly visible */
  border-color: var(--dash-border-strong) !important;
}

.dashboard-root .dash-form-skin input[readonly],
.dashboard-root .dash-form-skin textarea[readonly],
.dashboard-root .dash-form-skin select[disabled],
.dashboard-root .dash-form-skin input:disabled,
.dashboard-root .dash-form-skin textarea:disabled {
  background-color: var(--dash-surface-2);
  color: var(--dash-muted);
}

.dashboard-root .dash-form-skin input::placeholder,
.dashboard-root .dash-form-skin textarea::placeholder {
  color: var(--dash-muted);
  opacity: 0.75;
}

.dashboard-root .dash-form-skin input:focus,
.dashboard-root .dash-form-skin textarea:focus,
.dashboard-root .dash-form-skin select:focus {
  outline: none;
  border-color: var(--dash-red-2);
  box-shadow: 0 0 0 3px var(--dash-red-soft);
}

/* Gender pill selection (employee section uses bg-slate-900) */
/* Keep employee-side "selected" styling (e.g. gender toggle uses bg-slate-900).
   Do NOT remap this to dashboard red. */

/* ================================================================== */
/* Hero Brand Pill Component                                          */
/* ================================================================== */
/**
 * Brand pill styling for "NPT Group" text in the hero section.
 * 
 * Design inspiration: Apple Ã— Linear hybrid aesthetic
 * Creates a distinctive branded badge element with gradient background,
 * used prominently in the onboarding invitation screen hero section.
 * 
 * Features:
 * - Gradient background using NPT brand colors (red spectrum)
 * - Pill-shaped border radius for modern appearance
 * - Subtle shadow for depth and elevation
 * - Optical alignment adjustments for visual balance
 */
.hero-brand-pill {
  /* Flexbox layout for centered content */
  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* Padding: more horizontal space, minimal vertical for pill shape */
  padding: 0.58rem 0.8rem;
  /* Soft pill shape with generous border radius */
  border-radius: 12px;

  /* NPT brand gradient: diagonal gradient from lighter to darker red */
  background: linear-gradient(135deg, #e4494d, #c31c20);
  /* White text for contrast against red gradient */
  color: #ffffff;

  /* Typography: compact size relative to parent, bold weight */
  font-size: 0.65em; /* Slightly smaller for refined appearance */
  font-weight: 600;
  line-height: 1; /* Tight line height for compact display */
  letter-spacing: 0.04em; /* Slight letter spacing for readability */

  /* Subtle shadow with brand color tint for depth */
  box-shadow: 0 10px 24px rgba(195, 28, 32, 0.18);

  /* Optical alignment: small vertical nudge to align baseline with "Welcome to" text */
  transform: translateY(0.05em);
}
